<div class="row">
  <div class="col-md-12">
    <div class="box box-success">
      <div class="box-header with-border">
        <h3 class="box-title"><%= t('.title') %></h3>
        <div class="box-tools pull-right">
          <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
        </div>
      </div>
      <div class="box-body no-padding">
        <table class="table table-striped">
          <thead>
            <tr>
              <th style="width: 10px">#</th>
              <th><%= t('.labels.player') %></th>
              <th class="hidden-xs"><%= t('.labels.performance') %></th>
              <th class="text-center" style="width: 40px"><%= t('.labels.score') %></th>
            </tr>
          </thead>
          <tbody>
            <% league.leaderboard.each_with_index do |member, idx| %>
              <tr>
                <td><%= idx + 1 %></td>
                <td><%= member.player.name %></td>
                <td class="hidden-xs">
                  <div id="sparkline-<%= member.player.id %>"></div>
                </td>
                <td class="text-center"><%= member.score %></td>
                <script>
                  $("#sparkline-<%= member.player.id %>").sparkline(
                    <%= member.scores.to_json.html_safe %>,
                    {
                      type: 'bar', barWidth: 5, height: 16,
                      colorMap:  {
                        '0': '#E50800', '1': '#888888', '2': '#A3A3A3',
                        '3': '#0A54FF', '4': '#1E0AFF', '5': '#00298E',
                        '6': '#002389', '7': '#001D85' }
                    }
                  );
                </script>
              </tr>
            <% end %>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
